<!doctype html>
<html lang="en" class="no-js">
<head>
	<meta charset="UTF-8">

	<title>Switchfly Technical Blog</title>
	<meta name="description" content="Switchfly Technical Blog">
	<meta name="author" content="Switchfly, Inc. | Author: Scott Galloway">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="shortcut icon" type="image/png" href="/favicon.png">

	<!-- Web Font "Ubuntu" -->
  <link href='http://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="stylesheets/sass/compiled/style.css">  

</head>

<body>
<!-- default.html -->
  <header class="site-header">
    <nav class="sticky-top">&nbsp;</nav>
    <div class="header-content">
      <a id="switchfly" href="http://Switchfly.com"><img src="/images/SfLogoHeader.png" alt="Visit Switchfly.com"></a>
      <h1><a href="/tech-blog">Technical Blog</a></h1>
    </div>
  </header>  
	<div class="container clearfix">
		<div id="main" class="sixteen columns">
		  <section id="post-list">

<!-- index.html - Wraps each post on main page -->
  <article class="post-homePage fourteen columns">
    <div class="fourteen columns post-title">
      <h1>
        <a href="//2013/03/Post-Mortem-Debugging-Part1.html">Designing to Support Post-Mortem Debugging, Part 1</a>
      </h1>
    </div>
    <div class="fourteen columns post-info">
      <div class="alpha two columns">
        <img class="author-image" src="/images/hwilliams.jpg" alt="E. Harold Williams" />
      </div>
      <div class="omega twelve columns">
        <div class="date">
          <p>March 04</p>
          <p class="year">2013</p>
        </div>
        <!-- <div class="tags"><span class="label">Tags:</span> </div>-->
        <div class="author">
          <!-- <a class="author-link" href=""> -->E. Harold Williams<!-- </a> -->      
        </div>
      </div>
    </div>
    <div class="fourteen columns post-summary">
      Programs have bugs. There is extensive literature about how to avoid shipping bugs with a system and we, at Switchfly, do our best to follow modern practices. To improve our code quality we use specification reviews, pair programming, code reviews, unit testing, integration testing, and robot driven, web based end-to-end testing in addition to a highly qualified QA team doing manual testing.
    </div>
    <div class="fourteen columns post-body">
      <h1>Designing to Support Post-Mortem Debugging, Part 1</h1>
<p>Programs have bugs.</p>
<p>There is extensive literature about how to avoid shipping bugs with a system and we, at Switchfly, do our best to follow modern practices. To improve our code quality we use specification reviews, pair programming, code reviews, unit testing, integration testing, and robot driven, web based end-to-end testing in addition to a highly qualified QA team doing manual testing.</p>
<p>Sadly, we still release bugs.</p>
<p>Knowing that there will be bugs in production, we have designed our system to gather as much information as possible to facilitate diagnosing issues after they occur, and to notify us of certain classes of bugs without waiting for client complaints.</p>
<p>Two issues that make our system hard to test and bugs hard to diagnose are the highly configurable nature of our application and the large number of external systems that we interact with. The configurability makes it possible for clients to configure their system in ways we had not anticipated or tested, leading to unusual paths through our code. External systems frequently give us results we had not seen before as they upgrade their systems and evolve their API’s. These, coupled with the complex and evolving business rules of the travel industry, make it vital for us to have as much information as possible when researching issues we or our clients discover.</p>
<p>One category of bugs we see is runtime exceptions. These include, but are not limited to,</p>
<ul>
	<li>Exceptions thrown by the language (null pointers, indexes out of range, etc.)</li>
	<li>Exceptions thrown by libraries (network connection lost, database constraint errors, etc.)</li>
	<li>Exceptional conditions detected by our code</li>
</ul>
<p>We have reports, which both we and our clients can access, that will display all the exceptions within a search timeframe along with more than a dozen different values describing what the system was doing when the exception occurred. This report can even be configured to compare the errors of given time range with alternate time ranges to see behavior changes, such as around the time of a release.</p>
<p>Our coding standards specify that any exception caught must be recorded in the database unless it is re-thrown. This provides us with a repository of exceptions that have occurred in a running system, even when there is a recovery strategy that can allow the application to continue and serve a reasonable response to the customer. Along with the exception, we record the context in which the system was running as the time of the exception as well as the stack.</p>
<p>We also encourage our programmers to code defensively and proactively look for unexpected conditions and throw exceptions rather than continuing. We would suggest that the following code, for example:</p>
<div class="highlight"><pre><code class="java"><span class="k">switch</span> <span class="o">(</span><span class="n">status</span><span class="o">)</span> <span class="o">{</span>
	<span class="s">&quot;success&quot;</span><span class="o">:</span>
		<span class="n">doSomething</span><span class="o">();</span>
		<span class="k">break</span><span class="o">;</span>

	<span class="s">&quot;failure&quot;</span><span class="o">:</span>
		<span class="n">doSomethingElse</span><span class="o">();</span>
		<span class="k">break</span><span class="o">:</span>
<span class="o">}</span>
</code></pre></div><p>should be written as follows:</p>
<div class="highlight"><pre><code class="java"><span class="k">switch</span> <span class="o">(</span><span class="n">status</span><span class="o">)</span> <span class="o">{</span>
	<span class="s">&quot;success&quot;</span><span class="o">:</span>
		<span class="n">doSomething</span><span class="o">();</span>
		<span class="k">break</span><span class="o">;</span>

	<span class="s">&quot;failure&quot;</span><span class="o">:</span>
		<span class="n">doSomethingElse</span><span class="o">();</span>
		<span class="k">break</span><span class="o">:</span>

	<span class="k">default</span><span class="o">:</span>
		<span class="k">throw</span> <span class="nf">createException</span><span class="o">(</span><span class="s">&quot;This is impossible, but it happened&quot;</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div><p>This is a very simple example, but programs are full of instances where there are implied pre-conditions. Making these assumptions explicit makes the program more robust and makes violations more visible. In the example above, if we wanted to simply log the error, but continue processing, we would remove the “throw”. The <code>createException()</code> call logs the exception in our database, so it will show up in reports.</p>
<p>So the key points regarding exception tracking in Switchfly are:</p>
<ol>
	<li>All exceptions are logged, even if the program can continue. Log entries contain extensive information about the context in which the exception occurred.</li>
	<li>Code explicitly checks assumptions about inputs and throws exception when violated.</li>
	<li>We provide a report that can search and sort exceptions in the database and compare counts with previous time periods.</li>
</ol>
<p>Unfortunately, some errors don’t throw exceptions. Business logic errors occur either because a specification was incorrect, or because the code incorrectly implemented that specification. Sometimes we find that things break because services we access through an <span class="caps">API</span> start returning different results that our code interprets successfully, but incorrectly.</p>
<p>In my next blog post I will describe what the Switchfly application does to facilitate investigating these issues.</p>
    </div>
  </article>


<!-- index.html - Wraps each post on main page -->
  <article class="post-homePage fourteen columns">
    <!-- <div class="category"><a href="/.html"></a></div> -->    
    <div class="fourteen columns post-title">
      <h1>
        <a href="//2013/03/Telecommuting-Series-Chapter-1-Introduction.html">Telecommuting Series, Chapter 1 - Introduction</a>
      </h1>
    </div>
    <div class="fourteen columns post-info">
      <div class="alpha two columns">
        <img class="author-image" src="/images/kevin_baughman.jpg" alt="Kevin Baughman" />
      </div>
      <div class="omega twelve columns">
        <div class="date">
          <p>March 02</p>
          <p class="year">2013</p>
        </div>
        <!-- <div class="tags"><span class="label">Tags:</span> </div>-->
        <div class="author">
          <!-- <a class="author-link" href=""> -->Kevin Baughman<!-- </a> -->      
        </div>
      </div>
    </div>
    <div class="fourteen columns post-summary">
      In this series of articles, I intend to share my experiences on working remotely full time, and provide suggestions on how to make telecommuting as successful as possible.
    </div>
    <div class="fourteen columns post-body">
      <p>I have worked for Switchfly for over 8 years and for the first 3 years I worked in the corporate office.  However, I moved to another state (New Mexico and then later Texas) and so for the last 5 years I have been telecommuting from my home office.  Throughout that time Switchfly has been very supportive and willing to learn with me to make telecommuting as effective as possible.  In fact, at this time there are at least 7 full time employees that live outside of California who also telecommute. In this series of articles, I intend to share my experiences and cover the following topics.  If you have any other suggestions please let us know.</p>
<p>This will be a four part series:</p>

	<ol>
		<li>Telecommuting Series | Chapter 1: Introduction</li>
		<li>Telecommuting Series | Chapter 2: Technology</li>
		<li>Telecommuting Series | Chapter 3: Home Office</li>
		<li>Telecommuting Series | Chapter 4: Putting it all together</li>
	</ol><ul>
	<li>Technology</li>
	<li>Home office
	<ol>
		<li>Remoting in to a workplace computer from home so everything is within the firewall</li>
		<li>Replicating a workplace environment at home, including database, etc</li>
	</ol></li>
	<li>Geographic location flexibility
	<ol>
		<li>Location in home</li>
		<li>Ergonomics (chair, desk, monitor)</li>
		<li>Health (sitting, standing, breaks</li>
		<li>Hours (different time zones)</li>
	</ol></li>
	<li>Geographic location flexibility
	<ol>
		<li>Company support regarding moving to a new location</li>
		<li>Support of significant other regarding their location needs</li>
		<li>Ability to work even when on long trips/vacations</li>
	</ol></li>
	<li>Pair programming when the pair are geographically separated</li>
	<li>Leading a project remotely</li>
	<li>Emotional toll
	<ol>
		<li>Feeling not part of the group</li>
		<li>Need for multiple trips to workplace to get reconnected</li>
		<li>Usefulness of employee pictures</li>
	</ol></li>
	<li>Health Care
	<ol>
		<li>Different plans based on State (e.g. California, New Mexico, Texas)</li>
	</ol></li>
</ul>
<p><img src="/images/telecommute-office.jpg" title="Home office setup" alt="Home office setup" /></p>
    </div>
  </article>


<!-- index.html - Wraps each post on main page -->
  <article class="post-homePage fourteen columns">   
    <div class="fourteen columns post-title">
      <h1>
        <a href="//2013/03/Tech-Blog-Overview.html">Tech Blog Technical Overview</a>
      </h1>
    </div>
    <div class="fourteen columns post-info">
      <div class="alpha two columns">
        <img class="author-image" src="/images/scottgalloway.jpg" alt="Scott Galloway" />
      </div>
      <div class="omega twelve columns">
        <div class="date">
          <p>March 01</p>
          <p class="year">2013</p>
        </div>
        <!-- <div class="tags"><span class="label">Tags:</span> </div>-->
        <div class="author">
          <!-- <a class="author-link" href=""> -->Scott Galloway<!-- </a> -->      
        </div>
      </div>
    </div>
    <div class="fourteen columns post-summary">
      A technical overview of this blog including libraries used and why particular decisions were made.
    </div>
    <div class="fourteen columns post-body">
      <h1>Tech Blog Technical Overview</h1>
<h2>High Level Technical Goals</h2>
<ul>
	<li>Must be easy to host and update</li>
	<li>Must use <span class="caps">RWD</span> (Responsive web design) &#8211; i.e. the site scales appropriately to various device sizes</li>
	<li>Must allow technical and design flexibility while staying lightweight</li>
</ul>
<h2>Hosting / Updating</h2>
<p>I considered several options, including blog authoring tools like Blogger, Drupal, Wordpress, etc, but in the end those all felt a little cumbersome for what we needed. Additionally, creating a technical blog seemed to require a bit less structure than what those tools provided. In the end, I chose GitHub for a few notable reasons:</p>
<ol>
	<li>Switchfly uses Git for our version control</li>
	<li>With <a href="http://pages.github.com/">GitHub Pages</a>, I could host the site easily</li>
	<li>GitHub Pages utilizes <a href="https://github.com/mojombo/jekyll/wiki">Jekyll</a> for site generation:
	<ul>
		<li>Templates for layouts of pages and partials</li>
		<li>Utilizes Textile for post rendering</li>
	</ul></li>
	<li>GitHub Pages utlizes <a href="http://liquidmarkup.org/">Liquid</a> for logic and variables</li>
</ol>
<h3>Why Textile and not Markdown?</h3>
<p>A personal preference. Similar to my below discussion on .scss vs .sass, I find that the textile syntax is clearer; for example, heading levels in textile are noted as (h1. h2. h3., &#8230;), and in markdown they are (#, ##, ###, &#8230;); when you get a few heading levels down, it&#8217;s pretty tough in markdown to figure out if you&#8217;re at an H4 (####) level or H5 (#####) level without resorting to actually counting pound signs. A nice <a href="http://mojomojo.org/documentation/textile_vs_markdown">comparison</a> can be found here.</p>
<h3>Sass Support</h3>
<p>Another great out of the box feature of GitHub Pages is their support of <a href="http://sass-lang.com/"><span class="caps">SASS</span></a>. I like to think of <span class="caps">SASS</span> as what will be (very likely in my view) supported in future <span class="caps">CSS</span> specs, but usable today through clever compilation. I generally prefer .scss syntax over .sass syntax, as I believe it reads much more like real <span class="caps">CSS</span> code than does .sass, even though .sass is a bit more terse. For use in a big team like ours, I think adhering closely to commonly understood syntax is best.</p>
<h3>Syntax Highlighting</h3>
<p>We are using Pygments for our code highlighting here in our blog; I find it easy, and plenty nice.</p>
<h2>Responsive Web</h2>
<p>Again, there are many framework options here to choose from including Bootstrap, Foundation, etc. In the end, I chose to go with <a href="http://www.getskeleton.com/">Skeleton</a>; here&#8217;s why&#8230;</p>
<p>When I was looking at my options, I found that while frameworks like Bootstrap and Foundation did everything I needed, they were both more robust than what I required; notably, they included a UI library that I felt just wasn&#8217;t necessary for a small blog site. Skeleton on the other hand is pretty much <strong>only</strong> a responsive <span class="caps">CSS</span> framework. Additionally, Skeleton doesn&#8217;t really have any style applied to it &#8211; it does it&#8217;s best in the area of browser resets for common elements such as typography, forms, etc, but the bulk of the benefit is a nice simple responsive grid.</p>
<p>Plus, at a minuscule 28kb, it&#8217;s plenty lightweight.</p>
<h2>Miscellaneous stuff</h2>
<p>In addition to all of the above, I have baked in some other things into the site to allow for some fancier UI down the road:</p>
<ul>
	<li><a href="http://jquery.com">JQuery</a> (for finding stuff on the page and doing fancy stuff with it)</li>
	<li><a href="http://modernizr.com">Modernizr</a> (for feature detection)</li>
	<li><a href="http://www.addthis.com">AddThis</a> (for article sharing)</li>
</ul>
<h2>Wrapping Up</h2>
<p>In the end, I think we created a flexible, lightweight, and relatively simple blog for us to play with and share our learnings with the community. Over time, I&#8217;m sure we&#8217;ll</p>
    </div>
  </article>
</section>
		</div>
	</div>
	<footer>
		<div class="footer-content">
		    <div class="sixteen columns">
		 		    &copy;2013 <a id="sf-logo-home" href="http://Switchfly.com">Switchfly</a>
				    <p id="fine-print">Hosted by <a href="https://github.com/switchfly/tech-blog">Github</a> and powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a>. Licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons attribution license</a>.</p>  		  
		  	</div>
	  	</div>
	</footer>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  	<script src="/js/libs/modernizr-1.7.min.js"></script>
</body>

</html>